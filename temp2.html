 <!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ÌôîÎ©¥5 - ÏãúÍ≥Ñ + 3Í∞ú ÎèÑÏãú ÎÇ†Ïî® + Í≥ÑÏÇ∞Í∏∞</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    html, body {
      margin: 0; padding: 0;
      background: #f4f6fb;
      font-family: 'Segoe UI', 'ÎßëÏùÄ Í≥†Îîï', Arial, sans-serif;
      color: #233;
      min-height: 100vh;
    }
    .main-wrap {
      max-width: 1400px;
      margin: 0 auto;
      padding: 50px 0 50px 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 64px;
    }
    .widget-title {
      font-size: 2.8rem;
      font-weight: 900;
      color: #4a5bd8;
      margin-bottom: 34px;
      letter-spacing: 2.5px;
      text-align: center;
      text-shadow: 0 2px 14px #e4eafd;
    }
    /* ÏãúÍ≥Ñ */
    .clock-container {
      width: 100%;
      display: flex;
      gap: 48px;
      justify-content: center;
      flex-wrap: wrap;
    }
    .clock-card {
      background: linear-gradient(110deg, #f4f7fa 80%, #eaf0fd 100%);
      border-radius: 34px;
      box-shadow: 0 8px 38px rgba(96,115,186,0.14);
      padding: 54px 32px 38px 32px;
      min-width: 410px; max-width: 520px;
      display: flex; flex-direction: column; align-items: center;
      margin-bottom: 10px;
    }
    .city-select {
      margin-bottom: 22px;
      font-size: 2rem;
      border: none;
      border-radius: 18px;
      background: #eef2fa;
      padding: 15px 38px;
      font-weight: bold;
      color: #3b4263;
      box-shadow: 0 3px 13px rgba(96,115,186,0.09);
    }
    .clock-time {
      font-size: 4.1rem;
      font-weight: 900;
      letter-spacing: 2.5px;
      color: #30409a;
      margin-bottom: 15px;
    }
    .clock-date {
      font-size: 1.9rem;
      color: #7b85ab;
      letter-spacing: 1.3px;
      margin-bottom: 13px;
      text-align: center;
    }
    .clock-label {
      font-size: 1.42rem;
      color: #6671a6;
      font-weight: 700;
    }
    /* ÎÇ†Ïî® */
    .weather-dashboard {
      width: 100%;
      display: flex;
      gap: 42px;
      justify-content: center;
      flex-wrap: wrap;
    }
    .weather-card {
      background: #fff;
      border-radius: 28px;
      box-shadow: 0 8px 38px 0 rgba(90,110,185,0.13);
      padding: 38px 32px 30px 32px;
      width: 370px; max-width: 98vw;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 18px;
      transition: box-shadow 0.17s;
      position: relative;
    }
    .weather-card .refresh-btn {
      position: absolute;
      top: 24px;
      right: 24px;
      background: #e8ecf9;
      border: none;
      border-radius: 50%;
      width: 36px; height: 36px;
      font-size: 1.4rem;
      color: #4262d1;
      cursor: pointer;
      box-shadow: 0 2px 10px #b8c8f840;
      transition: background 0.13s;
    }
    .weather-card .refresh-btn:hover { background: #dbe6ff; }
    .weather-icon {
      font-size: 3.5rem;
      margin-bottom: 7px;
    }
    .weather-main {
      font-size: 1.45rem;
      font-weight: 700;
      margin-bottom: 8px;
      color: #446add;
    }
    .weather-temp {
      font-size: 2.3rem;
      font-weight: 800;
      color: #25398e;
      margin-bottom: 5px;
    }
    .weather-humid {
      font-size: 1.2rem;
      color: #288aad;
      margin-bottom: 2px;
    }
    .weather-status {
      font-size: 1.13rem;
      font-weight: 700;
      margin-bottom: 7px;
      color: #4c5e7a;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    /* Í≥ÑÏÇ∞Í∏∞ */
    .calc-card {
      width: 100%; max-width: 640px;
      margin: 0 auto;
      background: #fff;
      border-radius: 28px;
      box-shadow: 0 8px 38px rgba(49,64,112,0.12);
      padding: 40px 28px 26px 28px;
      display: flex; flex-direction: column; align-items: center;
    }
    .calc-title {
      font-size: 2.2rem;
      font-weight: 900;
      color: #5c67ef;
      margin-bottom: 30px;
      text-shadow: 0 3px 12px #e3eafd;
    }
    .calc-screen {
      width: 100%;
      height: 110px;
      font-size: 3.1rem;
      border: none;
      background: linear-gradient(90deg, #f2f5ff 0%, #f7f8fc 100%);
      border-radius: 20px;
      text-align: right;
      padding: 28px 30px;
      color: #2c3666;
      font-weight: 800;
      margin-bottom: 28px;
      letter-spacing: 1.7px;
      box-shadow: 0 4px 20px rgba(90,108,180,0.09);
    }
    .calc-buttons {
      width: 100%;
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 19px;
    }
    .calc-btn {
      font-size: 2rem;
      padding: 27px 0;
      border: none;
      border-radius: 18px;
      background: #f0f3fa;
      color: #365178;
      cursor: pointer;
      font-weight: bold;
      transition: background 0.17s, color 0.17s;
      box-shadow: 0 2px 16px rgba(88,112,174,0.10);
      outline: none;
    }
    .calc-btn:active { background: #dde4ff; color: #4359a5; }
    .calc-btn.op {
      background: linear-gradient(90deg,#b6cafd 0%,#637dee 100%);
      color: #fff;
      font-weight: 900;
    }
    .calc-btn.op:active { background: linear-gradient(90deg,#637dee 0%,#b6cafd 100%);}
    .calc-btn.equal {
      background: linear-gradient(90deg, #6de0ca 0%, #32b896 100%);
      color: #fff;
      grid-column: 4/6;
      font-weight: 900;
      font-size: 2.22rem;
    }
    .calc-btn.equal:active { background: linear-gradient(90deg, #32b896 0%, #6de0ca 100%);}
    .calc-btn.clear {
      background: linear-gradient(90deg,#f7b7b7 0%,#ff5858 100%);
      color: #fff;
      font-weight: 900;
      font-size: 1.86rem;
    }
    .calc-btn.clear:active { background: linear-gradient(90deg,#ff5858 0%,#f7b7b7 100%);}
    .calc-btn.fn {
      background: linear-gradient(90deg,#a9e2fa 0%,#79b6fa 100%);
      color: #225681;
      font-weight: 900;
      font-size: 1.85rem;
    }
    .calc-btn.fn:active { background: linear-gradient(90deg,#79b6fa 0%,#a9e2fa 100%);}
    .calc-btn.small { font-size: 1.35rem; }
    /* Î™®Î∞îÏùº Î∞òÏùëÌòï */
    @media (max-width: 1100px) {
      .main-wrap { max-width: 99vw; }
      .clock-card, .weather-card { min-width: 97vw; max-width: 99vw; }
      .calc-card { max-width: 99vw; }
    }
    @media (max-width: 700px) {
      .widget-title, .calc-title { font-size: 1.15rem; }
      .clock-container, .weather-dashboard { gap: 15px;}
      .clock-card, .weather-card { min-width: 99vw; max-width: 99vw; padding: 14px 1vw 9px 1vw;}
      .weather-card { padding: 18px 1vw 9px 1vw;}
      .clock-time { font-size: 1.6rem; }
      .clock-date { font-size: 0.95rem; }
      .meter-value { font-size: 1.6rem; }
      .calc-screen { font-size: 1.05rem; height: 40px; padding: 13px 2vw; }
      .calc-btn { font-size: 0.94rem; padding: 7px 0;}
    }
  </style>
</head>
<body>
  <div class="main-wrap">
    <!-- ÏãúÍ≥Ñ -->
    <div>
      <div class="widget-title">üåè ÎìÄÏñº ÏõîÎìú ÏãúÍ≥Ñ</div>
      <div class="clock-container">
        <div class="clock-card">
          <select class="city-select" id="city1"></select>
          <div class="clock-time" id="time1"></div>
          <div class="clock-date" id="date1"></div>
          <div class="clock-label" id="label1"></div>
        </div>
        <div class="clock-card">
          <select class="city-select" id="city2"></select>
          <div class="clock-time" id="time2"></div>
          <div class="clock-date" id="date2"></div>
          <div class="clock-label" id="label2"></div>
        </div>
      </div>
    </div>
    <!-- ÎÇ†Ïî® -->
    <div>
      <div class="widget-title">üå¶Ô∏è 3Í∞ú ÎèÑÏãú ÎÇ†Ïî®</div>
      <div class="weather-dashboard">
        <div class="weather-card" id="wcard1">
          <button class="refresh-btn" onclick="fetchWeather(1)">‚ü≥</button>
          <select class="city-select" id="wcity1"></select>
          <div class="weather-icon" id="wicon1">‚òÅÔ∏è</div>
          <div class="weather-main" id="wmain1">--</div>
          <div class="weather-temp" id="wtemp1">-- ‚ÑÉ</div>
          <div class="weather-humid" id="whumid1">-- %</div>
          <div class="weather-status" id="wstatus1"></div>
        </div>
        <div class="weather-card" id="wcard2">
          <button class="refresh-btn" onclick="fetchWeather(2)">‚ü≥</button>
          <select class="city-select" id="wcity2"></select>
          <div class="weather-icon" id="wicon2">‚òÅÔ∏è</div>
          <div class="weather-main" id="wmain2">--</div>
          <div class="weather-temp" id="wtemp2">-- ‚ÑÉ</div>
          <div class="weather-humid" id="whumid2">-- %</div>
          <div class="weather-status" id="wstatus2"></div>
        </div>
        <div class="weather-card" id="wcard3">
          <button class="refresh-btn" onclick="fetchWeather(3)">‚ü≥</button>
          <select class="city-select" id="wcity3"></select>
          <div class="weather-icon" id="wicon3">‚òÅÔ∏è</div>
          <div class="weather-main" id="wmain3">--</div>
          <div class="weather-temp" id="wtemp3">-- ‚ÑÉ</div>
          <div class="weather-humid" id="whumid3">-- %</div>
          <div class="weather-status" id="wstatus3"></div>
        </div>
      </div>
    </div>
    <!-- Í≥ÑÏÇ∞Í∏∞ -->
    <div class="calc-card">
      <div class="calc-title">üìê Í≥µÌïôÏö© Í≥ÑÏÇ∞Í∏∞</div>
      <input type="text" class="calc-screen" id="screen" value="0" readonly>
      <div class="calc-buttons">
        <button class="calc-btn clear" onclick="clearScreen()">C</button>
        <button class="calc-btn fn small" onclick="insert('Math.PI')">œÄ</button>
        <button class="calc-btn fn small" onclick="insert('Math.E')">e</button>
        <button class="calc-btn fn small" onclick="insert('(')">(</button>
        <button class="calc-btn fn small" onclick="insert(')')">)</button>
        <button class="calc-btn fn" onclick="insert('Math.sin(')">sin</button>
        <button class="calc-btn fn" onclick="insert('Math.cos(')">cos</button>
        <button class="calc-btn fn" onclick="insert('Math.tan(')">tan</button>
        <button class="calc-btn fn" onclick="insert('Math.log10(')">log</button>
        <button class="calc-btn fn" onclick="insert('Math.log(')">ln</button>
        <button class="calc-btn" onclick="insert('7')">7</button>
        <button class="calc-btn" onclick="insert('8')">8</button>
        <button class="calc-btn" onclick="insert('9')">9</button>
        <button class="calc-btn op" onclick="insert('/')">√∑</button>
        <button class="calc-btn fn" onclick="insert('**')">^</button>
        <button class="calc-btn" onclick="insert('4')">4</button>
        <button class="calc-btn" onclick="insert('5')">5</button>
        <button class="calc-btn" onclick="insert('6')">6</button>
        <button class="calc-btn op" onclick="insert('*')">√ó</button>
        <button class="calc-btn fn small" onclick="insert('Math.sqrt(')">‚àö</button>
        <button class="calc-btn" onclick="insert('1')">1</button>
        <button class="calc-btn" onclick="insert('2')">2</button>
        <button class="calc-btn" onclick="insert('3')">3</button>
        <button class="calc-btn op" onclick="insert('-')">-</button>
        <button class="calc-btn fn small" onclick="backspace()">‚Üê</button>
        <button class="calc-btn" onclick="insert('0')">0</button>
        <button class="calc-btn" onclick="insert('.')">.</button>
        <button class="calc-btn op" onclick="insert('+')">+</button>
        <button class="calc-btn equal" onclick="calculate()">=</button>
      </div>
    </div>
  </div>
  <script>
    // ===== ÏãúÍ≥Ñ =====
    const clockCities = [
      { name: "ÏÑúÏö∏", country: "ÎåÄÌïúÎØºÍµ≠", zone: "Asia/Seoul" },
      { name: "Îâ¥Ïöï", country: "ÎØ∏Íµ≠", zone: "America/New_York" },
      { name: "ÎèÑÏøÑ", country: "ÏùºÎ≥∏", zone: "Asia/Tokyo" },
      { name: "Îü∞Îçò", country: "ÏòÅÍµ≠", zone: "Europe/London" },
      { name: "ÌååÎ¶¨", country: "ÌîÑÎûëÏä§", zone: "Europe/Paris" },
      { name: "Î≤†Ïù¥Ïßï", country: "Ï§ëÍµ≠", zone: "Asia/Shanghai" },
      { name: "Î°úÏä§Ïï§Ï†§Î†àÏä§", country: "ÎØ∏Íµ≠", zone: "America/Los_Angeles" },
      { name: "ÏãúÎìúÎãà", country: "Ìò∏Ï£º", zone: "Australia/Sydney" },
      { name: "ÌôçÏΩ©", country: "Ï§ëÍµ≠", zone: "Asia/Hong_Kong" },
      { name: "Î≤†Î•ºÎ¶∞", country: "ÎèÖÏùº", zone: "Europe/Berlin" },
      { name: "Î∞©ÏΩï", country: "ÌÉúÍµ≠", zone: "Asia/Bangkok" },
      { name: "ÎëêÎ∞îÏù¥", country: "ÏïÑÎûçÏóêÎØ∏Î¶¨Ìä∏", zone: "Asia/Dubai" },
      { name: "Ïã±Í∞ÄÌè¨Î•¥", country: "Ïã±Í∞ÄÌè¨Î•¥", zone: "Asia/Singapore" },
      { name: "Î™®Ïä§ÌÅ¨Î∞î", country: "Îü¨ÏãúÏïÑ", zone: "Europe/Moscow" },
      { name: "ÌÜ†Î°†ÌÜ†", country: "Ï∫êÎÇòÎã§", zone: "America/Toronto" },
      { name: "ÏÉÅÌååÏö∏Î£®", country: "Î∏åÎùºÏßà", zone: "America/Sao_Paulo" },
      { name: "Îç∏Î¶¨", country: "Ïù∏ÎèÑ", zone: "Asia/Kolkata" },
      { name: "Ïù¥Ïä§ÌÉÑÎ∂à", country: "ÌÑ∞ÌÇ§", zone: "Europe/Istanbul" }
    ];
    function setupClockCitySelect(selectId, defaultIdx) {
      const select = document.getElementById(selectId);
      select.innerHTML = "";
      clockCities.forEach((city, idx) => {
        const option = document.createElement("option");
        option.value = city.zone;
        option.textContent = `${city.name} (${city.country})`;
        select.appendChild(option);
      });
      select.selectedIndex = defaultIdx;
    }
    setupClockCitySelect("city1", 0); // ÏÑúÏö∏
    setupClockCitySelect("city2", 1); // Îâ¥Ïöï
    function updateClock(idx) {
      const select = document.getElementById("city"+idx);
      const tz = select.value;
      const cityData = clockCities.find(c => c.zone === tz);
      const now = new Date();
      const time = now.toLocaleTimeString('ko-KR', { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false, timeZone: tz });
      const date = now.toLocaleDateString('ko-KR', { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long', timeZone: tz });
      document.getElementById("time"+idx).textContent = time;
      document.getElementById("date"+idx).textContent = date;
      document.getElementById("label"+idx).textContent = `${cityData.name} (${cityData.country})`;
    }
    function tick() {
      updateClock(1);
      updateClock(2);
    }
    setInterval(tick, 1000);
    tick();
    document.getElementById("city1").addEventListener("change", () => updateClock(1));
    document.getElementById("city2").addEventListener("change", () => updateClock(2));

    // ===== ÎÇ†Ïî® =====
    const weatherCities = [
      { name: "ÏÑúÏö∏", country: "ÎåÄÌïúÎØºÍµ≠", lat: 37.5665, lon: 126.9780 },
      { name: "Îâ¥Ïöï", country: "ÎØ∏Íµ≠", lat: 40.7128, lon: -74.0060 },
      { name: "ÎèÑÏøÑ", country: "ÏùºÎ≥∏", lat: 35.6895, lon: 139.6917 },
      { name: "Îü∞Îçò", country: "ÏòÅÍµ≠", lat: 51.5074, lon: -0.1278 },
      { name: "ÌååÎ¶¨", country: "ÌîÑÎûëÏä§", lat: 48.8566, lon: 2.3522 },
      { name: "Î≤†Ïù¥Ïßï", country: "Ï§ëÍµ≠", lat: 39.9042, lon: 116.4074 },
      { name: "Î°úÏä§Ïï§Ï†§Î†àÏä§", country: "ÎØ∏Íµ≠", lat: 34.0522, lon: -118.2437 },
      { name: "ÏãúÎìúÎãà", country: "Ìò∏Ï£º", lat: -33.8688, lon: 151.2093 },
      { name: "ÌôçÏΩ©", country: "Ï§ëÍµ≠", lat: 22.3193, lon: 114.1694 },
      { name: "Î≤†Î•ºÎ¶∞", country: "ÎèÖÏùº", lat: 52.5200, lon: 13.4050 },
      { name: "Î∞©ÏΩï", country: "ÌÉúÍµ≠", lat: 13.7563, lon: 100.5018 },
      { name: "ÎëêÎ∞îÏù¥", country: "ÏïÑÎûçÏóêÎØ∏Î¶¨Ìä∏", lat: 25.2048, lon: 55.2708 },
      { name: "Ïã±Í∞ÄÌè¨Î•¥", country: "Ïã±Í∞ÄÌè¨Î•¥", lat: 1.3521, lon: 103.8198 },
      { name: "Î™®Ïä§ÌÅ¨Î∞î", country: "Îü¨ÏãúÏïÑ", lat: 55.7558, lon: 37.6176 },
      { name: "ÌÜ†Î°†ÌÜ†", country: "Ï∫êÎÇòÎã§", lat: 43.6532, lon: -79.3832 },
      { name: "ÏÉÅÌååÏö∏Î£®", country: "Î∏åÎùºÏßà", lat: -23.5505, lon: -46.6333 },
      { name: "Îç∏Î¶¨", country: "Ïù∏ÎèÑ", lat: 28.6139, lon: 77.2090 },
      { name: "Ïù¥Ïä§ÌÉÑÎ∂à", country: "ÌÑ∞ÌÇ§", lat: 41.0082, lon: 28.9784 }
    ];
    function setupWeatherCitySelect(selectId, defaultIdx) {
      const select = document.getElementById(selectId);
      select.innerHTML = "";
      weatherCities.forEach((city, idx) => {
        const option = document.createElement("option");
        option.value = idx;
        option.textContent = `${city.name} (${city.country})`;
        select.appendChild(option);
      });
      select.selectedIndex = defaultIdx;
    }
    setupWeatherCitySelect("wcity1", 0);
    setupWeatherCitySelect("wcity2", 1);
    setupWeatherCitySelect("wcity3", 2);

    async function fetchWeather(idx) {
      const select = document.getElementById("wcity"+idx);
      const city = weatherCities[select.value];
      const tempDiv = document.getElementById("wtemp"+idx);
      const humidDiv = document.getElementById("whumid"+idx);
      const iconDiv = document.getElementById("wicon"+idx);
      const mainDiv = document.getElementById("wmain"+idx);
      const statusDiv = document.getElementById("wstatus"+idx);

      tempDiv.textContent = "Î°úÎî©Ï§ë...";
      humidDiv.textContent = "";
      mainDiv.textContent = "";
      iconDiv.textContent = "‚è≥";
      statusDiv.textContent = "";

      try {
        const url = `https://api.open-meteo.com/v1/forecast?latitude=${city.lat}&longitude=${city.lon}&current=temperature_2m,relative_humidity_2m,weather_code&timezone=auto`;
        const res = await fetch(url);
        const data = await res.json();
        if (data.current) {
          const temp = data.current.temperature_2m;
          const humid = data.current.relative_humidity_2m;
          const code = data.current.weather_code;
          const weatherTable = {
            0:  {icon:"‚òÄÔ∏è", text:"ÎßëÏùå", status:"ÎÇ†Ïî®Í∞Ä ÏïÑÏ£º Ï¢ãÏïÑÏöî!"},
            1:  {icon:"üå§Ô∏è", text:"ÎåÄÏ≤¥Î°ú ÎßëÏùå", status:"Ï¢ãÏùÄ ÎÇ†Ïî®ÏûÖÎãàÎã§."},
            2:  {icon:"‚õÖ", text:"Î∂ÄÎ∂ÑÏ†ÅÏúºÎ°ú ÌùêÎ¶º", status:"Í∞ÄÎÅî Íµ¨Î¶ÑÏù¥ ÏûàÏñ¥Ïöî."},
            3:  {icon:"‚òÅÔ∏è", text:"ÌùêÎ¶º", status:"Íµ¨Î¶ÑÏù¥ ÎßéÏïÑÏöî."},
            45: {icon:"üå´Ô∏è", text:"ÏïàÍ∞ú", status:"ÏïàÍ∞úÍ∞Ä ÎÇçÎãàÎã§."},
            48: {icon:"üå´Ô∏è", text:"ÏÑúÎ¶¨/ÏïàÍ∞ú", status:"ÏïàÍ∞ú/ÏÑúÎ¶¨"},
            51: {icon:"üå¶Ô∏è", text:"ÏïΩÌïú Ïù¥Ïä¨ÎπÑ", status:"Ïù¥Ïä¨ÎπÑÍ∞Ä Ï°∞Í∏à ÎÇ¥Î¶ΩÎãàÎã§."},
            53: {icon:"üå¶Ô∏è", text:"Ïù¥Ïä¨ÎπÑ", status:"Ïù¥Ïä¨ÎπÑÍ∞Ä ÎÇ¥Î¶ΩÎãàÎã§."},
            55: {icon:"üå¶Ô∏è", text:"Í∞ïÌïú Ïù¥Ïä¨ÎπÑ", status:"Ïù¥Ïä¨ÎπÑÍ∞Ä ÎßéÏù¥ ÎÇ¥Î¶ΩÎãàÎã§."},
            61: {icon:"üåßÔ∏è", text:"ÏïΩÌïú ÎπÑ", status:"ÎπÑÍ∞Ä Ï°∞Í∏à ÎÇ¥Î¶ΩÎãàÎã§."},
            63: {icon:"üåßÔ∏è", text:"ÎπÑ", status:"ÎπÑÍ∞Ä ÎÇ¥Î¶ΩÎãàÎã§."},
            65: {icon:"üåßÔ∏è", text:"Í∞ïÌïú ÎπÑ", status:"ÎπÑÍ∞Ä ÎßéÏù¥ ÎÇ¥Î¶ΩÎãàÎã§."},
            66: {icon:"üå®Ô∏è", text:"ÏßÑÎààÍπ®ÎπÑ", status:"ÏßÑÎààÍπ®ÎπÑÍ∞Ä ÎÇ¥Î†§Ïöî."},
            67: {icon:"üå®Ô∏è", text:"ÏßÑÎààÍπ®ÎπÑ", status:"ÏßÑÎààÍπ®ÎπÑÍ∞Ä ÎÇ¥Î†§Ïöî."},
            71: {icon:"üå®Ô∏è", text:"ÏïΩÌïú Îàà", status:"ÎààÏù¥ Ï°∞Í∏à ÎÇ¥Î†§Ïöî."},
            73: {icon:"üå®Ô∏è", text:"Îàà", status:"ÎààÏù¥ ÎÇ¥Î†§Ïöî."},
            75: {icon:"‚ùÑÔ∏è", text:"Í∞ïÌïú Îàà", status:"ÎààÏù¥ ÎßéÏù¥ ÎÇ¥Î†§Ïöî."},
            80: {icon:"üå¶Ô∏è", text:"ÏÜåÎÇòÍ∏∞", status:"ÏÜåÎÇòÍ∏∞Í∞Ä ÎÇ¥Î¶ΩÎãàÎã§."},
            81: {icon:"üå¶Ô∏è", text:"ÏÜåÎÇòÍ∏∞", status:"ÏÜåÎÇòÍ∏∞Í∞Ä ÎÇ¥Î¶ΩÎãàÎã§."},
            82: {icon:"üå¶Ô∏è", text:"Í∞ïÌïú ÏÜåÎÇòÍ∏∞", status:"ÏÜåÎÇòÍ∏∞Í∞Ä ÎßéÏù¥ ÎÇ¥Î¶ΩÎãàÎã§."}
          };
          const weather = weatherTable[code] || {icon:"‚ùî", text:"Ïïå Ïàò ÏóÜÏùå", status:"ÎÇ†Ïî® Ï†ïÎ≥¥ ÏóÜÏùå"};
          iconDiv.textContent = weather.icon;
          mainDiv.textContent = weather.text;
          tempDiv.textContent = `${temp} ‚ÑÉ`;
          humidDiv.textContent = `ÏäµÎèÑ: ${humid} %`;
          statusDiv.innerHTML = `${weather.status}`;
        } else {
          iconDiv.textContent = "‚ùå";
          mainDiv.textContent = "Ï†ïÎ≥¥ ÏóÜÏùå";
          tempDiv.textContent = "-- ‚ÑÉ";
          humidDiv.textContent = "-- %";
          statusDiv.textContent = "";
        }
      } catch (e) {
        iconDiv.textContent = "‚ùå";
        mainDiv.textContent = "Ïò§Î•ò";
        tempDiv.textContent = "-- ‚ÑÉ";
        humidDiv.textContent = "-- %";
        statusDiv.textContent = "";
      }
    }
    document.getElementById("wcity1").addEventListener("change", ()=>fetchWeather(1));
    document.getElementById("wcity2").addEventListener("change", ()=>fetchWeather(2));
    document.getElementById("wcity3").addEventListener("change", ()=>fetchWeather(3));
    fetchWeather(1); fetchWeather(2); fetchWeather(3);

    // ===== Í≥ÑÏÇ∞Í∏∞ =====
    let screen = document.getElementById('screen');
    let expr = '';
    function insert(val) {
      if (screen.value === "Error") expr = '';
      expr += val;
      screen.value = expr.replace(/Math\.(PI|E|sin|cos|tan|log|log10|sqrt)\(/g, function(match) {
        switch(match) {
          case "Math.PI": return "œÄ";
          case "Math.E": return "e";
          case "Math.sin(": return "sin(";
          case "Math.cos(": return "cos(";
          case "Math.tan(": return "tan(";
          case "Math.log(": return "ln(";
          case "Math.log10(": return "log(";
          case "Math.sqrt(": return "‚àö(";
          default: return match;
        }
      });
    }
    function clearScreen() {
      expr = '';
      screen.value = '0';
    }
    function calculate() {
      try {
        let calcExpr = expr.replace(/\^/g, '**');
        calcExpr = calcExpr.replace(/Math\.(sin|cos|tan)\(([^)]+)\)/g, function(_, fn, arg) {
          return `Math.${fn}((${arg})*Math.PI/180)`;
        });
        let result = eval(calcExpr);
        if (typeof result === 'number' && isFinite(result)) {
          screen.value = result;
          expr = result.toString();
        } else {
          screen.value = 'Error';
          expr = '';
        }
      } catch (e) {
        screen.value = 'Error';
        expr = '';
      }
    }
    function backspace() {
      if (expr.length > 0) {
        expr = expr.slice(0, -1);
        screen.value = expr || '0';
      }
    }
  </script>
</body>
</html>
